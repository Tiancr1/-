{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GAErBM,OAASH,SAAW,CACtB,CAACI,KAAK,IAAIC,SAAS,OAAOC,IAAI,wBAC9B,CAACF,KAAK,eAAeC,SAAS,QAAQC,IAAI,6BAGxCC,YAAeD,GACVA,EACNE,QAAQ,UAAU,IAClBA,QAAQ,WAAW,IACnBA,QAAQ,OAAO,IACfA,QAAO,OAAQ,IAEdC,OAAS,KACXhB,UAAUG,KAAK,iBAAiBc,SAChCP,OAAOQ,SAAQ,CAACC,EAAMC,KAClB,MAAMC,EAAMpB,EAAE,mFAEkBkB,EAAKR,KAAK,mDACVG,YAAYK,EAAKN,4QAOrCS,aAAapB,SACzBmB,EAAIE,GAAG,SAAQ,KACXC,OAAOC,KAAKN,EAAKN,IAAI,YAEzBQ,EAAIE,GAAG,QAAQ,UAAUG,IACrBA,EAAEC,kBACMjB,OAADkB,OAAOR,EAAM,GACpBJ,gBAIZA,SACAf,EAAE,cAAcsB,GAAG,SAAQ,KAEvB,IAAIV,EAAMW,OAAOK,OAAO,eACC,IAAtBhB,EAAIiB,QAAQ,UACXjB,EAAM,WAAWA,GAErBH,OAAOqB,KAAK,CACRpB,KAAKG,YAAYD,GAAK,GAAGmB,cACzBpB,SAAS,OACTC,IAAIA,IAERG,YAEJQ,OAAOS,eAAiB,KAEpB,MAAMC,EAAS1B,KAAK2B,UAAUzB,QAC9BL,aAAa+B,QAAQ,IAAIF,IAE7BjC,EAAEoC,UAAUd,GAAG,YAAYG,IACvB,MAAMY,IAACA,GAAOZ,EACd,IAAI,IAAIa,EAAE,EAAEA,EAAE7B,OAAO8B,OAAOD,IACrB7B,OAAO6B,GAAG5B,KAAK8B,gBAAkBH,GAChCd,OAAOC,KAAKf,OAAO6B,GAAG1B,IAAI","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\n//初始化hashMap，如果hasMap为空时用原有的数组，如果不为空则使用xObject\nconst hasMap = xObject || [\n    {logo:'A',logoType:'text',url:'https://www.acfun.cn'},\n    {logo:'bilibili.jpg',logoType:'image',url:'https://www.bilibili.com'},\n]\n\nconst simplifyUrl = (url)=>{\n    return url\n    .replace('http://','')\n    .replace('https://','')\n    .replace('www.','')\n    .replace(/\\/.*/,'')  //删除/开头的内容\n}\nconst rander = ()=>{\n    $siteList.find('li:not(.last)').remove()\n    hasMap.forEach((node, index)=>{\n        const $li = $(`<li>\n                <div class=\"site\">\n                    <div class=\"logo\">${node.logo[0]}</div>\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\n                    <div class=\"close\">\n                        <svg class=\"icon\">\n                            <use xlink:href=\"#icon-close\"></use>\n                        </svg>\n                    </div>\n                </div>\n            </li>`).insertBefore($lastLi)\n        $li.on('click',()=>{\n            window.open(node.url,'_self')\n        })\n        $li.on('click','.close',(e)=>{\n            e.stopPropagation()//阻止冒泡\n            hasMap.splice(index,1)\n            rander()\n        })\n    })\n}\nrander()\n$('.addButton').on('click',()=>{\n    \n    let url = window.prompt('你要添加的网址是什么？')\n    if(url.indexOf('http')!==0){\n        url = 'https://'+url\n    }\n    hasMap.push({\n        logo:simplifyUrl(url)[0].toUpperCase(),\n        logoType:'text',\n        url:url\n    });\n    rander()\n})\nwindow.onbeforeunload = ()=>{\n    //将hasMap从对象变成string类型\n    const string = JSON.stringify(hasMap)\n    localStorage.setItem('x',string)\n}\n$(document).on('keypress',(e)=>{\n    const {key} = e\n    for(let i=0;i<hasMap.length;i++){\n        if(hasMap[i].logo.toLowerCase() === key){\n            window.open(hasMap[i].url,'_self')\n        }\n    }\n})"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hasMap","logo","logoType","url","simplifyUrl","replace","rander","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"version":3,"file":"index.46852467.js.map"}